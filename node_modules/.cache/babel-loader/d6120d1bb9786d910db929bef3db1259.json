{"ast":null,"code":"var _jsxFileName = \"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\src\\\\Components\\\\Navbar\\\\Search\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport TextField from \"material-ui/TextField\";\nimport SelectField from \"material-ui/SelectField\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport axios from \"axios\";\nimport ImageResults from \"../../image-results/ImageResults\";\nimport { Button } from \"reactstrap\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchText: \"\",\n      amount: 10,\n      apiUrl: \"https://pixabay.com/api/\",\n      apiKey: \"15794997-e34a19590a236d2cdfa77f508\",\n      images: []\n    };\n\n    this.onTextChange = e => {\n      e.preventDefault();\n      const val = this.state.searchText;\n      this.setState({\n        [e.target.name]: val\n      }, () => {\n        if (val === \"\") {\n          this.setState({\n            images: []\n          });\n        } else {\n          axios.get(`${this.state.apiUrl}?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`).then(res => this.setState({\n            images: res.data.hits\n          })).catch(err => console.log(err));\n        }\n      });\n    };\n\n    this.onSearchChange = (e, index, value) => {\n      this.setState({\n        searchText: e.target.value\n      });\n      console.log(this.state.searchText);\n    };\n\n    this.onAmountChange = (e, index, value) => {\n      this.setState({\n        amount: value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"searchText\",\n      value: this.state.searchText,\n      onChange: this.onSearchChange,\n      floatingLabelText: \"Search For Images\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SelectField, {\n      name: \"amount\",\n      floatingLabelText: \"Amount\",\n      value: this.state.amount,\n      onChange: this.onAmountChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 5,\n      primaryText: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 10,\n      primaryText: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 15,\n      primaryText: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 30,\n      primaryText: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 50,\n      primaryText: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      outline: true,\n      color: \"secondary\",\n      size: \"lg\",\n      onClick: this.onTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Search\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), this.state.images.length > 0 ? /*#__PURE__*/React.createElement(ImageResults, {\n      images: this.state.images,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }) : null);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["A:/online_kaam/1LearningResource/React Practice/pixabay_app/src/Components/Navbar/Search/Search.js"],"names":["React","Component","TextField","SelectField","MenuItem","axios","ImageResults","Button","Search","state","searchText","amount","apiUrl","apiKey","images","onTextChange","e","preventDefault","val","setState","target","name","get","then","res","data","hits","catch","err","console","log","onSearchChange","index","value","onAmountChange","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport TextField from \"material-ui/TextField\";\r\nimport SelectField from \"material-ui/SelectField\";\r\nimport MenuItem from \"material-ui/MenuItem\";\r\nimport axios from \"axios\";\r\nimport ImageResults from \"../../image-results/ImageResults\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    searchText: \"\",\r\n    amount: 10,\r\n    apiUrl: \"https://pixabay.com/api/\",\r\n    apiKey: \"15794997-e34a19590a236d2cdfa77f508\",\r\n    images: [],\r\n  };\r\n  onTextChange = (e) => {\r\n    e.preventDefault();\r\n    const val = this.state.searchText;\r\n    this.setState({ [e.target.name]: val }, () => {\r\n      if (val === \"\") {\r\n        this.setState({ images: [] });\r\n      } else {\r\n        axios\r\n          .get(\r\n            `${this.state.apiUrl}?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`\r\n          )\r\n          .then((res) => this.setState({ images: res.data.hits }))\r\n          .catch((err) => console.log(err));\r\n      }\r\n    });\r\n  };\r\n  onSearchChange = (e, index, value) => {\r\n    this.setState({ searchText: e.target.value });\r\n    console.log(this.state.searchText);\r\n  };\r\n\r\n  onAmountChange = (e, index, value) => {\r\n    this.setState({ amount: value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex justify-content-center\">\r\n          <TextField\r\n            name=\"searchText\"\r\n            value={this.state.searchText}\r\n            onChange={this.onSearchChange}\r\n            floatingLabelText=\"Search For Images\"\r\n          />\r\n          <SelectField\r\n            name=\"amount\"\r\n            floatingLabelText=\"Amount\"\r\n            value={this.state.amount}\r\n            onChange={this.onAmountChange}\r\n          >\r\n            <MenuItem value={5} primaryText=\"5\" />\r\n            <MenuItem value={10} primaryText=\"10\" />\r\n            <MenuItem value={15} primaryText=\"15\" />\r\n            <MenuItem value={30} primaryText=\"30\" />\r\n            <MenuItem value={50} primaryText=\"50\" />\r\n          </SelectField>\r\n          <Button\r\n            outline\r\n            color=\"secondary\"\r\n            size=\"lg\"\r\n            onClick={this.onTextChange}\r\n          >\r\n            Search\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-center\"></div>\r\n        <div className=\"text-center\"></div>\r\n        <br />\r\n        {this.state.images.length > 0 ? (\r\n          <ImageResults images={this.state.images} />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}