{"ast":null,"code":"import _defineProperty from\"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\pixabay_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TextField from\"material-ui/TextField\";import SelectField from\"material-ui/SelectField\";import MenuItem from\"material-ui/MenuItem\";import axios from\"axios\";import ImageResults from\"../../image-results/ImageResults\";import{Button}from\"reactstrap\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchText:\"\",amount:10,apiUrl:\"https://pixabay.com/api/\",apiKey:\"15794997-e34a19590a236d2cdfa77f508\",images:[]};_this.onTextChange=function(e){e.preventDefault();var val=_this.state.searchText;_this.setState(_defineProperty({},e.target.name,val),function(){if(val===\"\"){_this.setState({images:[]});}else{axios.get(\"\".concat(_this.state.apiUrl,\"?key=\").concat(_this.state.apiKey,\"&q=\").concat(_this.state.searchText,\"&image_type=photo&per_page=\").concat(_this.state.amount,\"&safesearch=true\")).then(function(res){return _this.setState({images:res.data.hits});}).catch(function(err){return console.log(err);});}});};_this.onSearchChange=function(e,index,value){_this.setState({searchText:e.target.value});console.log(_this.state.searchText);};_this.onAmountChange=function(e,index,value){_this.setState({amount:value});};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(TextField,{name:\"searchText\",value:this.state.searchText,onChange:this.onSearchChange,floatingLabelText:\"Type what to Search\"}),/*#__PURE__*/React.createElement(SelectField,{name:\"amount\",floatingLabelText:\"Number of Images\",value:this.state.amount,onChange:this.onAmountChange},/*#__PURE__*/React.createElement(MenuItem,{value:5,primaryText:\"5\"}),/*#__PURE__*/React.createElement(MenuItem,{value:10,primaryText:\"10\"}),/*#__PURE__*/React.createElement(MenuItem,{value:15,primaryText:\"15\"}),/*#__PURE__*/React.createElement(MenuItem,{value:30,primaryText:\"30\"}),/*#__PURE__*/React.createElement(MenuItem,{value:50,primaryText:\"50\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"secondary\",size:\"lg\",onClick:this.onTextChange},\"Search\")),/*#__PURE__*/React.createElement(\"br\",null),this.state.images.length>0?/*#__PURE__*/React.createElement(ImageResults,{images:this.state.images}):null);}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["A:/online_kaam/1LearningResource/React Practice/pixabay_app/src/Components/Navbar/Search/Search.js"],"names":["React","Component","TextField","SelectField","MenuItem","axios","ImageResults","Button","Search","state","searchText","amount","apiUrl","apiKey","images","onTextChange","e","preventDefault","val","setState","target","name","get","then","res","data","hits","catch","err","console","log","onSearchChange","index","value","onAmountChange","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport TextField from \"material-ui/TextField\";\r\nimport SelectField from \"material-ui/SelectField\";\r\nimport MenuItem from \"material-ui/MenuItem\";\r\nimport axios from \"axios\";\r\nimport ImageResults from \"../../image-results/ImageResults\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    searchText: \"\",\r\n    amount: 10,\r\n    apiUrl: \"https://pixabay.com/api/\",\r\n    apiKey: \"15794997-e34a19590a236d2cdfa77f508\",\r\n    images: [],\r\n  };\r\n  onTextChange = (e) => {\r\n    e.preventDefault();\r\n    const val = this.state.searchText;\r\n    this.setState({ [e.target.name]: val }, () => {\r\n      if (val === \"\") {\r\n        this.setState({ images: [] });\r\n      } else {\r\n        axios\r\n          .get(\r\n            `${this.state.apiUrl}?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`\r\n          )\r\n          .then((res) => this.setState({ images: res.data.hits }))\r\n          .catch((err) => console.log(err));\r\n      }\r\n    });\r\n  };\r\n  onSearchChange = (e, index, value) => {\r\n    this.setState({ searchText: e.target.value });\r\n    console.log(this.state.searchText);\r\n  };\r\n\r\n  onAmountChange = (e, index, value) => {\r\n    this.setState({ amount: value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex justify-content-center\">\r\n          <TextField\r\n            name=\"searchText\"\r\n            value={this.state.searchText}\r\n            onChange={this.onSearchChange}\r\n            floatingLabelText=\"Type what to Search\"\r\n          />\r\n          <SelectField\r\n            name=\"amount\"\r\n            floatingLabelText=\"Number of Images\"\r\n            value={this.state.amount}\r\n            onChange={this.onAmountChange}\r\n          >\r\n            <MenuItem value={5} primaryText=\"5\" />\r\n            <MenuItem value={10} primaryText=\"10\" />\r\n            <MenuItem value={15} primaryText=\"15\" />\r\n            <MenuItem value={30} primaryText=\"30\" />\r\n            <MenuItem value={50} primaryText=\"50\" />\r\n          </SelectField>\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <Button\r\n            outline\r\n            color=\"secondary\"\r\n            size=\"lg\"\r\n            onClick={this.onTextChange}\r\n          >\r\n            Search\r\n          </Button>\r\n        </div>\r\n        <br />\r\n        {this.state.images.length > 0 ? (\r\n          <ImageResults images={this.state.images} />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}